"use strict";(()=>{(self.webpackChunktalk=self.webpackChunktalk||[]).push([["defaultVendors-node_modules_nextcloud_vue_dist_Components_NcEmptyContent_mjs-node_modules_nex-8413a9"],{99220:(I,g,s)=>{s.d(g,{A:()=>m});var u=s(39763);function l(c){return c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function p(c){return c.replace(/"/g,"&quot;")}function d(c){const r=[];for(const t in c){let i=c[t]+"";r.push(`${t}="${p(i)}"`)}return r.join(" ")}function f(c){let{tagName:r,attributes:t,content:i}=c;return`<${r} ${d(t)}>${l(i)}</${r}>`}function m(c,r){r===void 0&&(r={}),r=new u.JY(r,f);const t=(0,u.qw)(c),i=[];for(let n=0;n<t.length;n++){const a=t[n];a.t==="nl"&&r.get("nl2br")?i.push(`<br>
`):!a.isLink||!r.check(a)?i.push(l(a.toString())):i.push(r.render(a))}return i.join("")}String.prototype.linkify||Object.defineProperty(String.prototype,"linkify",{writable:!1,value:function(r){return m(this,r)}})},51025:(I,g,s)=>{s.d(g,{A:()=>c});var u=s(37495),l=s(51431);const p={name:"NcEmptyContent",props:{name:{type:String,default:""},description:{type:String,default:""}},computed:{hasName(){return this.name!==""},hasDescription(){var r;return this.description!==""||((r=this.$slots.description)==null?void 0:r[0])}}};var d=function(){var t=this,i=t._self._c;return i("div",{staticClass:"empty-content",attrs:{role:"note"}},[t.$slots.icon?i("div",{staticClass:"empty-content__icon",attrs:{"aria-hidden":"true"}},[t._t("icon")],2):t._e(),t._t("name",function(){return[t.hasName?i("span",{staticClass:"empty-content__name"},[t._v(" "+t._s(t.name)+" ")]):t._e()]}),t.hasDescription?i("p",{staticClass:"empty-content__description"},[t._t("description",function(){return[t._v(" "+t._s(t.description)+" ")]})],2):t._e(),t.$slots.action?i("div",{staticClass:"empty-content__action"},[t._t("action")],2):t._e()],2)},f=[],m=(0,l.n)(p,d,f,!1,null,"fede0c71");const c=m.exports},23020:(I,g,s)=>{s.d(g,{P:()=>f});var u=s(85471);const l=()=>window.outerHeight===screen.height,p=(0,u.KR)(l());window.addEventListener("resize",()=>{p.value=l()});function d(){return readonly(p)}const f=(0,u.tB)(p)},53429:(I,g,s)=>{s.d(g,{F:()=>r,YH:()=>t,al:()=>c});var u=s(85471);const l=1024,p=l/2,d=i=>document.documentElement.clientWidth<i,f=(0,u.KR)(d(l)),m=(0,u.KR)(d(p));window.addEventListener("resize",()=>{f.value=d(l),m.value=d(p)},{passive:!0});function c(){return(0,u.tB)(f)}function r(){return(0,u.tB)(m)}const t=(0,u.tB)(f)},7754:(I,g,s)=>{s.d(g,{C:()=>l,G:()=>m,d:()=>f});var u=s(86554);(0,u.r)(u.t);class l{constructor(r,t,i,n){this.r=r,this.g=t,this.b=i,n&&(this.name=n)}get color(){const r=t=>"00".concat(t.toString(16)).slice(-2);return"#".concat(r(this.r)).concat(r(this.g)).concat(r(this.b))}}function p(c,r){const t=new Array(3);return t[0]=(r[1].r-r[0].r)/c,t[1]=(r[1].g-r[0].g)/c,t[2]=(r[1].b-r[0].b)/c,t}function d(c,r,t){const i=[];i.push(r);const n=p(c,[r,t]);for(let a=1;a<c;a++){const h=Math.floor(r.r+n[0]*a),E=Math.floor(r.g+n[1]*a),U=Math.floor(r.b+n[2]*a);i.push(new l(h,E,U))}return i}const f=[new l(182,70,157,(0,u.a)("Purple")),new l(191,103,139,(0,u.a)("Rosy brown")),new l(201,136,121,(0,u.a)("Feldspar")),new l(211,169,103,(0,u.a)("Whiskey")),new l(221,203,85,(0,u.a)("Gold")),new l(165,184,114,(0,u.a)("Olivine")),new l(110,166,143,(0,u.a)("Acapulco")),new l(55,148,172,(0,u.a)("Boston Blue")),new l(0,130,201,(0,u.a)("Nextcloud blue")),new l(45,115,190,(0,u.a)("Mariner")),new l(91,100,179,(0,u.a)("Blue Violet")),new l(136,85,168,(0,u.a)("Deluge"))];function m(c){const r=new l(182,70,157,(0,u.a)("Purple")),t=new l(221,203,85,(0,u.a)("Gold")),i=new l(0,130,201,(0,u.a)("Nextcloud blue")),n=d(c,r,t),a=d(c,t,i),h=d(c,i,r);return n.concat(a).concat(h)}},28948:(I,g,s)=>{s.d(g,{N:()=>$,u:()=>T});var u=s(22667),l=s(26614),p=s(10780),d=s(83585),f=s(85342),m=s(79920),c=s(74095),r=s(85804),t=s(18126),i=s(69193),n=s(684),a=s(93615),h=s(23020),E=s(53429),U=s(51431),y=s(99220),A=s(70580),O=s(67098),M=s(21777),L=s(65043),B=s(87485),D=s(63814),P=s(86554),N=s(43921),b=s(7481),C=s(61338),x=s(56426),W=s(57579);const T={data(){return{hasStatus:!1,userStatus:{status:null,message:null,icon:null}}},methods:{async fetchUserStatus(o){var e,_;if(!o)return;const v=(0,B.F)();if(!(!Object.prototype.hasOwnProperty.call(v,"user_status")||!v.user_status.enabled)&&(0,M.HW)())try{const{data:S}=await L.Ay.get((0,D.KT)("apps/user_status/api/v1/statuses/{userId}",{userId:o})),{status:H,message:G,icon:V}=S.ocs.data;this.userStatus.status=H,this.userStatus.message=G||"",this.userStatus.icon=V||"",this.hasStatus=!0}catch(S){if(S.response.status===404&&((_=(e=S.response.data.ocs)==null?void 0:e.data)==null?void 0:_.length)===0)return;console.error(S)}}}};(0,P.r)(P.q);const R=(0,x.c0)("nextcloud").persist().build();function K(o){const e=R.getItem("user-has-avatar."+o);return typeof e=="string"?!!e:null}function w(o,e){o&&R.setItem("user-has-avatar."+o,e)}const j={name:"NcAvatar",directives:{ClickOutside:W.z0},components:{DotsHorizontal:b.D,NcActions:p.N,NcButton:c.A,NcIconSvgWrapper:r.N,NcLoadingIcon:t.A,NcUserStatusIcon:i.N},mixins:[T],props:{url:{type:String,default:void 0},iconClass:{type:String,default:void 0},user:{type:String,default:void 0},showUserStatus:{type:Boolean,default:!0},showUserStatusCompact:{type:Boolean,default:!0},preloadedUserStatus:{type:Object,default:void 0},isGuest:{type:Boolean,default:!1},displayName:{type:String,default:void 0},size:{type:Number,default:32},allowPlaceholder:{type:Boolean,default:!0},disableTooltip:{type:Boolean,default:!1},disableMenu:{type:Boolean,default:!1},tooltipMessage:{type:String,default:null},isNoUser:{type:Boolean,default:!1},menuContainer:{type:[String,Object,Element,Boolean],default:"body"}},data(){return{avatarUrlLoaded:null,avatarSrcSetLoaded:null,userDoesNotExist:!1,isAvatarLoaded:!1,isMenuLoaded:!1,contactsMenuLoading:!1,contactsMenuActions:[],contactsMenuOpenState:!1}},computed:{avatarAriaLabel(){var o,e;if(this.hasMenu)return this.canDisplayUserStatus||this.showUserStatusIconOnAvatar?(0,P.a)("Avatar of {displayName}, {status}",{displayName:(o=this.displayName)!=null?o:this.user,status:(0,i.g)(this.userStatus.status)}):(0,P.a)("Avatar of {displayName}",{displayName:(e=this.displayName)!=null?e:this.user})},canDisplayUserStatus(){return this.showUserStatus&&this.hasStatus&&["online","away","busy","dnd"].includes(this.userStatus.status)},showUserStatusIconOnAvatar(){return this.showUserStatus&&this.showUserStatusCompact&&this.hasStatus&&this.userStatus.status!=="dnd"&&this.userStatus.icon},userIdentifier(){return this.isDisplayNameDefined?this.displayName:this.isUserDefined?this.user:""},isUserDefined(){return typeof this.user<"u"},isDisplayNameDefined(){return typeof this.displayName<"u"},isUrlDefined(){return typeof this.url<"u"},hasMenu(){var o;return this.disableMenu?!1:this.isMenuLoaded?this.menu.length>0:!(this.user===((o=(0,M.HW)())==null?void 0:o.uid)||this.userDoesNotExist||this.url)},showInitials(){return this.allowPlaceholder&&this.userDoesNotExist&&!(this.iconClass||this.$slots.icon)},avatarStyle(){return{"--size":this.size+"px",lineHeight:this.size+"px",fontSize:Math.round(this.size*.45)+"px"}},initialsWrapperStyle(){const{r:o,g:e,b:_}=(0,n.u)(this.userIdentifier);return{backgroundColor:"rgba(".concat(o,", ").concat(e,", ").concat(_,", 0.1)")}},initialsStyle(){const{r:o,g:e,b:_}=(0,n.u)(this.userIdentifier);return{color:"rgb(".concat(o,", ").concat(e,", ").concat(_,")")}},tooltip(){return this.disableTooltip?!1:this.tooltipMessage?this.tooltipMessage:this.displayName},initials(){let o="?";if(this.showInitials){const e=this.userIdentifier.trim();if(e==="")return o;const _=e.match(/[\p{L}\p{N}\s]/gu);if(_==null)return o;const v=_.join(""),S=v.lastIndexOf(" ");o=String.fromCodePoint(v.codePointAt(0)),S!==-1&&(o=o.concat(String.fromCodePoint(v.codePointAt(S+1))))}return o.toLocaleUpperCase()},menu(){const o=this.contactsMenuActions.map(_=>{const v=(0,N.g)(this.$router,_.hyperlink);return{ncActionComponent:v?f.A:d.A,ncActionComponentProps:v?{to:v,icon:_.icon}:{href:_.hyperlink,icon:_.icon},text:_.title}});function e(_){const v=document.createTextNode(_),S=document.createElement("p");return S.appendChild(v),S.innerHTML}if(this.showUserStatus&&(this.userStatus.icon||this.userStatus.message)){const _=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
					<text x="50%" y="50%" text-anchor="middle" style="dominant-baseline: central; font-size: 85%">`.concat(e(this.userStatus.icon),`</text>
				</svg>`);return[{ncActionComponent:m.A,ncActionComponentProps:{},iconSvg:this.userStatus.icon?_:void 0,text:"".concat(this.userStatus.message)}].concat(o)}return o}},watch:{url(){this.userDoesNotExist=!1,this.loadAvatarUrl()},user(){this.userDoesNotExist=!1,this.isMenuLoaded=!1,this.loadAvatarUrl()}},mounted(){this.loadAvatarUrl(),(0,C.B1)("settings:avatar:updated",this.loadAvatarUrl),(0,C.B1)("settings:display-name:updated",this.loadAvatarUrl),this.showUserStatus&&this.user&&!this.isNoUser&&(this.preloadedUserStatus?(this.userStatus.status=this.preloadedUserStatus.status||"",this.userStatus.message=this.preloadedUserStatus.message||"",this.userStatus.icon=this.preloadedUserStatus.icon||"",this.hasStatus=this.preloadedUserStatus.status!==null):this.fetchUserStatus(this.user),(0,C.B1)("user_status:status.updated",this.handleUserStatusUpdated))},beforeDestroy(){(0,C.al)("settings:avatar:updated",this.loadAvatarUrl),(0,C.al)("settings:display-name:updated",this.loadAvatarUrl),this.showUserStatus&&this.user&&!this.isNoUser&&(0,C.al)("user_status:status.updated",this.handleUserStatusUpdated)},methods:{t:P.a,handleUserStatusUpdated(o){this.user===o.userId&&(this.userStatus={status:o.status,icon:o.icon,message:o.message})},async toggleMenu(o){o.type==="keydown"&&o.key!=="Enter"||(this.contactsMenuOpenState||await this.fetchContactsMenu(),this.contactsMenuOpenState=!this.contactsMenuOpenState)},closeMenu(){this.contactsMenuOpenState=!1},async fetchContactsMenu(){this.contactsMenuLoading=!0;try{const o=encodeURIComponent(this.user),{data:e}=await L.Ay.post((0,D.Jv)("contactsmenu/findOne"),"shareType=0&shareWith=".concat(o));this.contactsMenuActions=e.topAction?[e.topAction].concat(e.actions):e.actions}catch{this.contactsMenuOpenState=!1}this.contactsMenuLoading=!1,this.isMenuLoaded=!0},loadAvatarUrl(){if(this.isAvatarLoaded=!1,!this.isUrlDefined&&(!this.isUserDefined||this.isNoUser)){this.isAvatarLoaded=!0,this.userDoesNotExist=!0;return}if(this.isUrlDefined){this.updateImageIfValid(this.url);return}if(this.size<=64){const o=this.avatarUrlGenerator(this.user,64),e=[o+" 1x",this.avatarUrlGenerator(this.user,512)+" 8x"].join(", ");this.updateImageIfValid(o,e)}else{const o=this.avatarUrlGenerator(this.user,512);this.updateImageIfValid(o)}},avatarUrlGenerator(o,e){var _;let v=(0,a.g)(o,e,this.isGuest);return o===((_=(0,M.HW)())==null?void 0:_.uid)&&typeof oc_userconfig<"u"&&(v+="?v="+oc_userconfig.avatar.version),v},updateImageIfValid(o,e=null){const _=K(this.user);if(this.isUserDefined&&typeof _=="boolean"){this.isAvatarLoaded=!0,this.avatarUrlLoaded=o,e&&(this.avatarSrcSetLoaded=e),_===!1&&(this.userDoesNotExist=!0);return}const v=new Image;v.onload=()=>{this.avatarUrlLoaded=o,e&&(this.avatarSrcSetLoaded=e),this.isAvatarLoaded=!0,w(this.user,!0)},v.onerror=()=>{console.debug("Invalid avatar url",o),this.avatarUrlLoaded=null,this.avatarSrcSetLoaded=null,this.userDoesNotExist=!0,this.isAvatarLoaded=!1,w(this.user,!1)},e&&(v.srcset=e),v.src=o}}};var k=function(){var e=this,_=e._self._c;return _("span",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeMenu,expression:"closeMenu"}],ref:"main",staticClass:"avatardiv popovermenu-wrapper",class:{"avatardiv--unknown":e.userDoesNotExist,"avatardiv--with-menu":e.hasMenu,"avatardiv--with-menu-loading":e.contactsMenuLoading},style:e.avatarStyle},[e._t("icon",function(){return[e.iconClass?_("span",{staticClass:"avatar-class-icon",class:e.iconClass}):e.isAvatarLoaded&&!e.userDoesNotExist?_("img",{attrs:{src:e.avatarUrlLoaded,srcset:e.avatarSrcSetLoaded,alt:""}}):e._e()]}),e.hasMenu&&e.menu.length===0?_("NcButton",{staticClass:"action-item action-item__menutoggle",attrs:{type:"tertiary-no-background","aria-label":e.avatarAriaLabel,title:e.tooltip},on:{click:e.toggleMenu},scopedSlots:e._u([{key:"icon",fn:function(){return[e.contactsMenuLoading?_("NcLoadingIcon"):_("DotsHorizontal",{attrs:{size:20}})]},proxy:!0}],null,!1,2617833509)}):e.hasMenu?_("NcActions",{attrs:{"force-menu":"","manual-open":"",type:"tertiary-no-background",container:e.menuContainer,open:e.contactsMenuOpenState,"aria-label":e.avatarAriaLabel,title:e.tooltip},on:{"update:open":function(v){e.contactsMenuOpenState=v},click:e.toggleMenu},scopedSlots:e._u([e.contactsMenuLoading?{key:"icon",fn:function(){return[_("NcLoadingIcon")]},proxy:!0}:null],null,!0)},e._l(e.menu,function(v,S){return _(v.ncActionComponent,e._b({key:S,tag:"component",scopedSlots:e._u([v.iconSvg?{key:"icon",fn:function(){return[_("NcIconSvgWrapper",{attrs:{svg:v.iconSvg}})]},proxy:!0}:null],null,!0)},"component",v.ncActionComponentProps,!1),[e._v(" "+e._s(v.text)+" ")])}),1):e._e(),e.showUserStatusIconOnAvatar?_("span",{staticClass:"avatardiv__user-status avatardiv__user-status--icon"},[e._v(" "+e._s(e.userStatus.icon)+" ")]):e.canDisplayUserStatus?_("NcUserStatusIcon",{staticClass:"avatardiv__user-status",attrs:{status:e.userStatus.status,"aria-hidden":String(e.hasMenu)}}):e._e(),e.showInitials?_("span",{staticClass:"avatardiv__initials-wrapper",style:e.initialsWrapperStyle},[_("span",{staticClass:"avatardiv__initials",style:e.initialsStyle},[e._v(" "+e._s(e.initials)+" ")])]):e._e()],2)},z=[],F=(0,U.n)(j,k,z,!1,null,"e7e86f59");const $=F.exports},43921:(I,g,s)=>{s.d(g,{U:()=>f,g:()=>i,p:()=>t,r:()=>r});var u=s(47970),l=s(99656),p=s(33239),d=s(63814);const f=/(\s|^)(https?:\/\/)([-A-Z0-9+_.]+(?::[0-9]+)?(?:\/[-A-Z0-9+&@#%?=~_|!:,.;()]*)*)(\s|$)/ig,m=/(\s|\(|^)((https?:\/\/)([-A-Z0-9+_.]+[-A-Z0-9]+(?::[0-9]+)?(?:\/[-A-Z0-9+&@#%?=~_|!:,.;()]*)*))(?=\s|\)|$)/ig,c={name:"NcLink",props:{href:{type:String,required:!0}},render(n){return n("a",{attrs:{href:this.href,rel:"noopener noreferrer",target:"_blank",class:"rich-text--external-link"}},[this.href.trim()])}},r=function({autolink:n,useMarkdown:a,useExtendedMarkdown:h}){return function(E){h||!a||!n||(0,u.YR)(E,U=>U.type==="text",(U,y,A)=>{let O=t(U.value);return O=O.map(M=>typeof M=="string"?(0,p.u)("text",M):(0,p.u)("link",{url:M.props.href},[(0,p.u)("text",M.props.href)])).filter(M=>M),A.children.splice(y,1,...O.flat()),[l._Z,y+O.flat().length]})}},t=n=>{let a=m.exec(n);const h=[];let E=0;for(;a!==null;){let y=a[2],A,O=n.substring(E,a.index+a[1].length);y[0]===" "&&(O+=y[0],y=y.substring(1).trim());const M=y[y.length-1];(M==="."||M===","||M===";"||a[0][0]==="("&&M===")")&&(y=y.substring(0,y.length-1),A=M),h.push(O),h.push({component:c,props:{href:y}}),A&&h.push(A),E=a.index+a[0].length,a=m.exec(n)}h.push(n.substring(E));const U=h.map(y=>typeof y=="string"?y:y.props.href).join("");return n===U?h:(console.error("Failed to reassemble the chunked text: "+n),n)},i=(n,a)=>{const h=(B,D)=>B.startsWith(D)?B.slice(D.length):B,E=(B,...D)=>D.reduce((P,N)=>h(P,N),B);if(!n)return null;const U=/^https?:\/\//.test(a),y=/^[a-z][a-z0-9+.-]*:.+/.test(a);if(!U&&y||U&&!a.startsWith((0,d.$_)())||!U&&!a.startsWith("/"))return null;const A=U?E(a,(0,d.$_)(),"/index.php"):a,O=E(n.history.base,(0,d.aU)(),"/index.php"),M=E(A,O)||"/",L=n.resolve(M).route;return L.matched.length?L.fullPath:null}},684:(I,g,s)=>{s.d(g,{u:()=>p});var u=s(7754),l=s(83503);const p=function(d){let f=d.toLowerCase();f.match(/^([0-9a-f]{4}-?){8}$/)===null&&(f=l(f)),f=f.replace(/[^0-9a-f]/g,"");const m=6,c=(0,u.G)(m);function r(t,i){let n=0;const a=[];for(let h=0;h<t.length;h++)a.push(parseInt(t.charAt(h),16)%16);for(const h in a)n+=a[h];return parseInt(parseInt(n,10)%i,10)}return c[r(f,m*3)]}},33239:(I,g,s)=>{s.d(g,{u:()=>u});function u(l,p,d){const f={type:String(l)};return d==null&&(typeof p=="string"||Array.isArray(p))?d=p:Object.assign(f,p),Array.isArray(d)?f.children=d:d!=null&&(f.value=String(d)),f}},69143:(I,g,s)=>{s.d(g,{C:()=>l});const u=function(t,i,n,a,h){const E=l(i);if(n!=null&&(typeof n!="number"||n<0||n===Number.POSITIVE_INFINITY))throw new Error("Expected positive finite index");if(a!=null&&(!u(a)||!a.children))throw new Error("Expected parent node");if(a==null!=(n==null))throw new Error("Expected both parent and index");return r(t)?E.call(h,t,n,a):!1},l=function(t){if(t==null)return c;if(typeof t=="function")return m(t);if(typeof t=="object")return Array.isArray(t)?p(t):d(t);if(typeof t=="string")return f(t);throw new Error("Expected function, string, or object as test")};function p(t){const i=[];let n=-1;for(;++n<t.length;)i[n]=l(t[n]);return m(a);function a(...h){let E=-1;for(;++E<i.length;)if(i[E].apply(this,h))return!0;return!1}}function d(t){const i=t;return m(n);function n(a){const h=a;let E;for(E in t)if(h[E]!==i[E])return!1;return!0}}function f(t){return m(i);function i(n){return n&&n.type===t}}function m(t){return i;function i(n,a,h){return!!(r(n)&&t.call(this,n,typeof a=="number"?a:void 0,h||void 0))}}function c(){return!0}function r(t){return t!==null&&typeof t=="object"&&"type"in t}},99656:(I,g,s)=>{s.d(g,{dc:()=>f,_Z:()=>m,VG:()=>c});var u=s(69143);function l(t){return t}const p=[],d=!0,f=!1,m="skip";function c(t,i,n,a){let h;typeof i=="function"&&typeof n!="function"?(a=n,n=i):h=i;const E=(0,u.C)(h),U=a?-1:1;y(t,void 0,[])();function y(A,O,M){const L=A&&typeof A=="object"?A:{};if(typeof L.type=="string"){const D=typeof L.tagName=="string"?L.tagName:typeof L.name=="string"?L.name:void 0;Object.defineProperty(B,"name",{value:"node ("+(A.type+(D?"<"+D+">":""))+")"})}return B;function B(){let D=p,P,N,b;if((!i||E(A,O,M[M.length-1]||void 0))&&(D=r(n(A,M)),D[0]===f))return D;if("children"in A&&A.children){const C=A;if(C.children&&D[0]!==m)for(N=(a?C.children.length:-1)+U,b=M.concat(C);N>-1&&N<C.children.length;){const x=C.children[N];if(P=y(x,N,b)(),P[0]===f)return P;N=typeof P[1]=="number"?P[1]:N+U}}return D}}}function r(t){return Array.isArray(t)?t:typeof t=="number"?[d,t]:t==null?p:[t]}},47970:(I,g,s)=>{s.d(g,{YR:()=>l});var u=s(99656);function l(p,d,f,m){let c,r,t;typeof d=="function"&&typeof f!="function"?(r=void 0,t=d,c=f):(r=d,t=f,c=m),(0,u.VG)(p,r,i,c);function i(n,a){const h=a[a.length-1],E=h?h.children.indexOf(n):void 0;return t(n,E,h)}}}}]);})();

//# sourceMappingURL=talk-defaultVendors-node_modules_nextcloud_vue_dist_Components_NcEmptyContent_mjs-node_modules_nex-8413a9.js.map?v=98f3c900c8232a5226e3